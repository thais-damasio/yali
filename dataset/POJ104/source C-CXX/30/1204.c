#include <math.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define ASCII 100
#define MAX_N 100
#define MAX_M 100
#define ASC 100
#define null 0
#define LEN 100
#define SUM 100
#define NUMBER 100
#define SIZE 100
#define MAXN 100
#define MAXSIZE 100
#define maxrow 100
#define maxcol 100
#define mx 100
#define NUM 100
#define ROW 100
#define COL 100
#define SIZEE 100
#define MAX_LEN 100
#define LIU 100
#define maxsize 100
#define NUM 100
#define NO 100
#define Null 0
#define ID_DIGITS 100
#define INT_MAX 100
#define INT_MIN 100
#define FALSE 0
#define TRUE 1
#define hang 100
#define lie 100
#define lll 100
#define LEM 100
#define K 100
#define INF 100
#define MONTH 12
#define true 1
#define PI 100
#define maxlen 100
#define maxinputint 100
#define STUDENT_NUM 100
#define TOTAL 100
#define LEN1 100
#define student_num 100
#define MAXLEN 100
#define MAXL 100
#define nMax 100
#define Vocabularysize 100
#define Sentencelength 100
#define LENGTH 100
#define ARRAY 100
#define len 100
#define tsuhu 100
#define l 100
#define h 100
#define maxn 100
#define MAXLENGTH 100
#define SEX 100
struct student                             /*??student?????????????????????????*/
{
	char num[40];
	int age;
	char score[20];
	char name[40];
	char gender;
	char addr[40];
	struct student *next;
}*p1,*p2;                                  /*???p1,p2?????????????*/
int n;
struct student *creat(void);               /*?????????*/
struct student *backward(struct student*);  /*???????*/
void output(struct student*);                /*???????*/
void freee(struct student*);                   /*?????????*/
int main()
{
	struct student * head;
	head=creat();                           /*?????????*/
	head=backward(head);                    /*???????*/
          output (head);                          /*??????*/
	freee(head);                           /*??????????*/
	return 0;
}
struct student *creat(void)                 /*?????????????????????????*/
{
	struct student*head;
	n=0;
	p1=p2=(struct student*)malloc(LEN);        /*???????*/
	head=NULL;                                 /*?????NULL*/
	char tmp[40];
	scanf("%s",tmp);
	while (strcmp(tmp,"end")!=0)               /*?????????????end*/
	{
		scanf(" %s %c %d %s %s",p1->name,&p1->gender,&p1->age,p1->score,p1->addr);
		strcpy(p1->num,tmp);
                n=n+1;
		if (n==1)            /*????????????*/
			head=p1;
		else 
			p2->next=p1;      /*???????????????next???????????*/
		p2=p1;
		p1=(struct student*)malloc(LEN);            /*???????*/
		scanf("%s",tmp);

		
	}
	p2->next=NULL;                                  /*?????????*/
	return(head);                                   /*????????????*/
}
struct student *backward(struct student * head)      /*??????????????????????*/
{
	struct student *new_head;                    /*????????????*/
	p1=head;
	p2=NULL;
	while(p1->next!=NULL)                  /*????????????*/
	{
		p2=p1;
		p1=p1->next;
	}
	new_head=p1;                           /*??????*/
	p1->next=p2;                           /*???????next???????*/
	p2->next=NULL;                         /*???????next??NULL*/
	while(head->next!=NULL)                /*??????next?NULL????*/
	{
		p1=head;                           
		p2=NULL;
		while(p1->next!=NULL)              /*?????????????next????????????????next??NULL*/
		{
		    p2=p1;
		    p1=p1->next;
		}
		p1->next=p2;
		p2->next=NULL;
	}
	return (new_head);              /*?????????*/
}
void output(struct student*outhead)            /*??????*/
{
	for (p1=outhead;p1!=NULL;p1=p1->next)           /*????????????????????*/
	{
		printf("%s %s %c %d %s %s\n",p1->num,p1->name,p1->gender,p1->age,p1->score,p1->addr);
	}
}
void freee(struct student*head)               /*?????????*/
{
	for(p1=head;p1!=NULL;p1=p1->next)
	{
		freee(p1);
	}
}


	



